<!-- Copyright (C) 2003 Red Hat, Inc.                                -->
<!-- This material may be distributed only subject to the terms      -->
<!-- and conditions set forth in the Open Publication License, v1.0  -->
<!-- or later (the latest version is presently available at          -->
<!-- http://www.opencontent.org/openpub/).                           -->
<!-- Distribution of the work or derivative of the work in any       -->
<!-- standard (paper) book form is prohibited unless prior           -->
<!-- permission is obtained from the copyright holder.               -->
<HTML
><HEAD
><TITLE
>fis init</TITLE
><meta name="MSSmartTagsPreventParsing" content="TRUE">
<META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="eCos Reference Manual"
HREF="ecos-ref.html"><LINK
REL="UP"
TITLE="Flash Image System (FIS)"
HREF="flash-image-system.html"><LINK
REL="PREVIOUS"
TITLE="Flash Image System (FIS)"
HREF="flash-image-system.html"><LINK
REL="NEXT"
TITLE="fis list"
HREF="fis-list-command.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>eCos Reference Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="flash-image-system.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="fis-list-command.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="FIS-INIT-COMMAND">fis init</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN3892"
></A
><H2
>Name</H2
>fis init&nbsp;--&nbsp;Initialize Flash Image System (FIS)</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN3895"><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>fis init</B
>  [<TT
CLASS="REPLACEABLE"
><I
>-f</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN3900"
></A
><H2
>Arguments</H2
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN3902"><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>Name</TH
><TH
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>Type</TH
><TH
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
><TH
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>Default</TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>-f</TD
><TD
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>All blocks of flash memory (except for the boot
	      blocks) will be erased as part of the initialization
	      procedure.</TD
><TD
WIDTH="25%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN3920"
></A
><H2
>Description</H2
><P
>This command is used to initialize the Flash Image System
       (FIS). It should normally only be executed once, when RedBoot
       is first installed on the hardware. If the reserved images or
       their sizes in the FIS change, due to a different configuration
       of RedBoot being used, it may be necessary to issue the command
       again though.

        <DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>Subsequent executions will cause loss of
       previously stored information in the FIS.</P
></BLOCKQUOTE
></DIV
>
     </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN3925"
></A
><H2
>Examples</H2
><P
>Initialize the FIS directory.
<TABLE
BORDER="5"
BGCOLOR="#E0E0F0"
WIDTH="70%"
><TR
><TD
><PRE
CLASS="SCREEN"
> 
RedBoot&#62; <TT
CLASS="USERINPUT"
><B
>fis init</B
></TT
>
About to initialize [format] flash image system - continue (y/n)? <TT
CLASS="USERINPUT"
><B
>y</B
></TT
>
*** Initialize FLASH Image System
    Warning: device contents not erased, some blocks may not be usable
... Erase from 0x00070000-0x00080000: .
... Program from 0x0606f000-0x0607f000 at 0x00070000: .</PRE
></TD
></TR
></TABLE
> </P
><P
>Initialize the FIS directory and all of flash memory, except for first
blocks of the flash where the boot monitor resides.
<TABLE
BORDER="5"
BGCOLOR="#E0E0F0"
WIDTH="70%"
><TR
><TD
><PRE
CLASS="SCREEN"
> 
RedBoot&#62; <TT
CLASS="USERINPUT"
><B
>fis init -f</B
></TT
>
About to initialize [format] flash image system - continue (y/n)? <TT
CLASS="USERINPUT"
><B
>y</B
></TT
>
*** Initialize FLASH Image System                                               
... Erase from 0x00020000-0x00070000: .....                                     
... Erase from 0x00080000-0x00080000:                                           
... Erase from 0x00070000-0x00080000: .                                         
... Program from 0x0606f000-0x0607f000 at 0x00070000: .                         </PRE
></TD
></TR
></TABLE
> </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="flash-image-system.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ecos-ref.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="fis-list-command.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Flash Image System (FIS)</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="flash-image-system.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>fis list</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>